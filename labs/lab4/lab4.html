<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Планер — Лабораторна робота №4</title>
  <!-- Custom fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Merriweather:ital,wght@0,300;0,700;1,300&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f3f6fb;
      --card:#ffffff;
      --accent:#2563eb;
      --muted:#6b7280;
      --radius:12px;
      --gap:14px;
      --shadow: 0 6px 18px rgba(38,57,120,0.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background:linear-gradient(180deg, #eef3fb, var(--bg));
      padding:28px; color:#0f1724;
    }

    .planner-wrap{
      max-width:1200px; margin:0 auto; background:transparent;
    }

    header{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    header h1{font-family:Merriweather, serif;margin:0;font-weight:700}
    header .controls{display:flex;gap:10px;align-items:center}

    /* Main grid: sidebar + content */
    .layout{
      display:grid;
      grid-template-columns: 260px 1fr;
      gap:var(--gap);
    }

    /* Sidebar */
    .sidebar{
      background:var(--card); padding:16px; border-radius:var(--radius); box-shadow:var(--shadow);
      display:flex;flex-direction:column;gap:12px;
    }
    .sidebar .profile{display:flex;gap:12px;align-items:center}
    .avatar{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#60a5fa);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
    .small{font-size:13px;color:var(--muted)}

    .nav{display:grid;gap:8px;margin-top:6px}
    .nav button{background:transparent;border:none;text-align:left;padding:10px;border-radius:8px;cursor:pointer;font-weight:600}
    .nav button:hover{background:#f1f5ff}

    /* Planner content grid: calendar/top + tasks area */
    .content{
      display:grid;grid-template-rows:auto 1fr;gap:var(--gap);
    }

    .topbar{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .date-card{background:var(--card);padding:12px;border-radius:10px;box-shadow:var(--shadow);min-width:180px}

    /* Tasks area uses CSS Grid — responsive by resizing columns */
    .tasks-area{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap:var(--gap);
      align-items:start;
    }

    .day-card{background:var(--card);padding:12px;border-radius:12px;box-shadow:var(--shadow);display:flex;flex-direction:column;gap:10px}
    .day-card header{display:flex;align-items:center;justify-content:space-between}
    .day-card h3{margin:0}

    .task{display:flex;gap:10px;align-items:flex-start;padding:8px;border-radius:8px;border:1px solid rgba(15,23,36,0.04)}
    .task input[type='checkbox']{width:18px;height:18px;margin-top:3px;cursor:pointer}
    .task .title{flex:1}
    .task .title input{width:100%;border:none;background:transparent;font-weight:600;font-size:14px}
    .task .title input:focus{outline:2px solid rgba(37,99,235,0.14);border-radius:6px}
    .task textarea{width:100%;border:none;background:transparent;resize:vertical;font-size:13px;color:var(--muted)}

    .add-btn{display:inline-flex;gap:8px;align-items:center;padding:8px 10px;border-radius:8px;border:1px dashed rgba(15,23,36,0.06);cursor:pointer;background:transparent}

    /* simple responsive tweak for smaller screens */
    @media (max-width:920px){
      .layout{grid-template-columns:1fr}
      header{flex-direction:column;align-items:flex-start;gap:10px}
    }
  </style>
</head>
<body>
  <div class="planner-wrap">
    <header>
      <h1>Планер — Лабораторна робота №4</h1>
      <div class="controls">
        <div class="small">Виконано: <strong id="done-count">0</strong></div>
        <button id="add-day" class="add-btn">+ Додати день</button>
      </div>
    </header>

    <div class="layout">
      <aside class="sidebar">
        <div class="profile">
          <div class="avatar">UA</div>
          <div>
            <div style="font-weight:700">Студент</div>
            <div class="small">Група: ІП-01</div>
          </div>
        </div>

        <div class="nav">
          <button type="button">Сьогодні</button>
          <button type="button">Тиждень</button>
          <button type="button">Місяць</button>
          <button type="button">Налаштування</button>
        </div>

        <div style="margin-top:auto; font-size:13px; color:var(--muted)">Підказка: всі чекбокси клікабельні, поля можна редагувати.</div>
      </aside>

      <main class="content">
        <div class="topbar">
          <div class="date-card">
            <div style="font-size:12px;color:var(--muted)">Поточна дата</div>
            <div style="font-weight:700; font-size:18px" id="today"></div>
          </div>
          <div style="display:flex;gap:10px;align-items:center">
            <input id="search" placeholder="Пошук задач" style="padding:8px 10px;border-radius:8px;border:1px solid rgba(15,23,36,0.06);min-width:220px" />
            <button class="add-btn" id="add-task">+ Задача</button>
          </div>
        </div>

        <section class="tasks-area" id="tasks-area">
          <!-- Example day cards prefilled -->
          <div class="day-card" data-day="Понеділок">
            <header>
              <h3>Понеділок</h3>
              <div class="small">3 завдання</div>
            </header>
            <div class="task">
              <input type="checkbox" id="t1">
              <div class="title"><input value="Написати звіт з ОП" /></div>
            </div>
            <div class="task">
              <input type="checkbox" id="t2">
              <div class="title"><input value="Підготувати презентацію" /></div>
            </div>
            <div class="task">
              <input type="checkbox" id="t3">
              <div class="title"><input value="Переглянути лекцію" /></div>
            </div>
            <button class="add-btn btn-add-inside">+ Додати</button>
          </div>

          <div class="day-card" data-day="Вівторок">
            <header>
              <h3>Вівторок</h3>
              <div class="small">1 завдання</div>
            </header>
            <div class="task">
              <input type="checkbox" id="t4">
              <div class="title"><input value="Практична з HTML" /></div>
            </div>
            <button class="add-btn btn-add-inside">+ Додати</button>
          </div>

        </section>
      </main>
    </div>
  </div>

  <script>
    // Small JS to satisfy interactivity requirements: checkboxes clickable, inputs editable and adding items
    const todayEl = document.getElementById('today');
    const tasksArea = document.getElementById('tasks-area');
    const doneCount = document.getElementById('done-count');

    function formatDate(d){
      return d.toLocaleDateString('uk-UA', {weekday:'long', year:'numeric', month:'long', day:'numeric'});
    }
    todayEl.textContent = formatDate(new Date());

    function updateDone(){
      const checks = tasksArea.querySelectorAll('input[type=checkbox]');
      let done = 0; checks.forEach(c=>{ if(c.checked) done++ });
      doneCount.textContent = done;
    }

    tasksArea.addEventListener('change', e=>{ if(e.target && e.target.type==='checkbox') updateDone(); });
    updateDone();

    // add new day
    document.getElementById('add-day').addEventListener('click', ()=>{
      const name = prompt('Назва дня або розділу','Нова доба');
      if(!name) return;
      const card = document.createElement('div'); card.className='day-card'; card.setAttribute('data-day', name);
      card.innerHTML = `<header><h3>${name}</h3><div class="small">0 завдань</div></header>`;
      const addBtn = document.createElement('button'); addBtn.className='add-btn btn-add-inside'; addBtn.textContent = '+ Додати';
      card.appendChild(addBtn);
      tasksArea.appendChild(card);
    });

    // delegate task addition
    tasksArea.addEventListener('click', e=>{
      if(e.target.closest('.btn-add-inside')){
        const card = e.target.closest('.day-card');
        const title = prompt('Назва завдання','Нова задача');
        if(!title) return;
        const task = document.createElement('div'); task.className='task';
        const id = 'chk'+Math.random().toString(36).slice(2,9);
        task.innerHTML = `<input type="checkbox" id="${id}"><div class="title"><input value="${title}" /></div>`;
        card.insertBefore(task, e.target);
        // update header count
        const small = card.querySelector('header .small');
        const count = card.querySelectorAll('.task').length;
        if(small) small.textContent = count + ' завдань';
        updateDone();
      }
    });

    // search filter
    document.getElementById('search').addEventListener('input', e=>{
      const q = e.target.value.toLowerCase();
      document.querySelectorAll('.task').forEach(t=>{
        const v = (t.querySelector('input[type=text]')?.value || t.querySelector('input')?.value || '').toLowerCase();
        if(!q || v.includes(q)) t.style.display='flex'; else t.style.display='none';
      });
    });

  </script>
</body>
</html>
